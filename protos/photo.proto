syntax = "proto3";

import "protos/header.proto";
import "google/protobuf/timestamp.proto"

message photoRequest {
    header header = 1;

    string filename = 2;
}

message photoReply {
    header header = 1;

    string filename = 2;
    bytes data = 3; // binary data of photo
}

message newPhotoTakenReply {
    header header = 1;
    Timestamp photoCreationTime = 2;
    string filename = 3;
    bytes data = 4; // binary data of photo
}

message newGeoPhotoTakenReply {
    header header = 1;
    float longitude = 2;
    float latitude = 3;
    float altitude = 4;
    Timestamp photoCreationTime = 5;
    string filename = 6;
    bytes data = 7; // binary data of photo
}

service photoService {
    rpc getPhoto(photoRequest) returns (photoReply) {}
}

service takePhotoService {
    rpc takePhoto(photoRequest) returns (newPhotoTakenReply) {}
}

service takeGeoPhotoService {
    rpc takePhoto(photoRequest) returns (newGeoPhotoTakenReply) {}
}
